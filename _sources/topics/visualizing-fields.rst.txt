.. _visualizing-fields:

How to convert your coefficients back to physical fields
========================================================

Now that we have our new coefficients, we can use the ``FieldGenerator``
to view the BFE representation of the underlying fields. Here is an
example:

.. code:: python

    # Now try some slices for rendering
    #
    
    times = coefs.Times()[0:3]
    pmin  = [-1.0, -1.0, 0.0]
    pmax  = [ 1.0,  1.0, 0.0]
    grid  = [  40,   40,   0]
    
    fields = pyEXP.field.FieldGenerator(times, pmin, pmax, grid)
    
    surfaces = fields.slices(basis, coefs)
    
    print("We now have the following [time field] pairs")
    for v in surfaces:
        print('-'*40)
        for u in surfaces[v]:
            print("{:8.4f}  {}".format(v, u))
    
    print("\nHere is the first one:")
    for v in surfaces:
        for u in surfaces[v]:
            print('-'*40)
            print('----', u)
            print('-'*40)
            print(surfaces[v][u])
        break


.. parsed-literal::

    We now have the following [time field] pairs
    ----------------------------------------
      0.0050  d
      0.0050  d0
      0.0050  d1
      0.0050  dd
      0.0050  fp
      0.0050  fr
      0.0050  ft
      0.0050  p
      0.0050  p0
      0.0050  p1
    ----------------------------------------
      0.0100  d
      0.0100  d0
      0.0100  d1
      0.0100  dd
      0.0100  fp
      0.0100  fr
      0.0100  ft
      0.0100  p
      0.0100  p0
      0.0100  p1
    ----------------------------------------
      0.0150  d
      0.0150  d0
      0.0150  d1
      0.0150  dd
      0.0150  fp
      0.0150  fr
      0.0150  ft
      0.0150  p
      0.0150  p0
      0.0150  p1
    
    Here is the first one:
    ----------------------------------------
    ---- d
    ----------------------------------------
    [[0.01466935 0.01572764 0.01683037 ... 0.01691943 0.01569578 0.01454976]
     [0.01579922 0.01698843 0.01823976 ... 0.01824065 0.01685886 0.01557862]
     [0.01700229 0.01834482 0.01977141 ... 0.01965588 0.01809046 0.01665567]
     ...
     [0.01620709 0.01764648 0.01922052 ... 0.01933605 0.01790085 0.0165537 ]
     [0.01512669 0.01641221 0.01780488 ... 0.01780399 0.01654179 0.01534729]
     [0.01409477 0.0152446  0.0164784  ... 0.01638934 0.01527646 0.01421436]]
    ----------------------------------------
    ---- d0
    ----------------------------------------
    [[0.01437625 0.01548706 0.01666514 ... 0.01666514 0.01548706 0.01437625]
     [0.01548706 0.01673475 0.01807075 ... 0.01807075 0.01673475 0.01548706]
     [0.01666514 0.01807075 0.01959023 ... 0.01959023 0.01807075 0.01666514]
     ...
     [0.01666514 0.01807075 0.01959023 ... 0.01959023 0.01807075 0.01666514]
     [0.01548706 0.01673475 0.01807075 ... 0.01807075 0.01673475 0.01548706]
     [0.01437625 0.01548706 0.01666514 ... 0.01666514 0.01548706 0.01437625]]
    ----------------------------------------
    ---- d1
    ----------------------------------------
    [[ 2.9310214e-04  2.4057881e-04  1.6522847e-04 ...  2.5428724e-04
       2.0872064e-04  1.7351801e-04]
     [ 3.1216009e-04  2.5367373e-04  1.6900530e-04 ...  1.6989630e-04
       1.2410045e-04  9.1563532e-05]
     [ 3.3714369e-04  2.7406731e-04  1.8118456e-04 ...  6.5652450e-05
       1.9704208e-05 -9.4723200e-06]
     ...
     [-4.5805585e-04 -4.2427101e-04 -3.6970933e-04 ... -2.5417723e-04
      -1.6990790e-04 -1.1143985e-04]
     [-3.6036380e-04 -3.2254297e-04 -2.6587487e-04 ... -2.6676588e-04
      -1.9296970e-04 -1.3976726e-04]
     [-2.8147074e-04 -2.4245947e-04 -1.8674540e-04 ... -2.7580417e-04
      -2.1060130e-04 -1.6188661e-04]]
    ----------------------------------------
    ---- dd
    ----------------------------------------
    [[ 0.02038795  0.01553419  0.00991461 ...  0.01525863  0.0134771
       0.01206977]
     [ 0.02015619  0.0151585   0.00935242 ...  0.00940173  0.00741573
       0.00591226]
     [ 0.02023047  0.01516635  0.00924872 ...  0.00335129  0.00109039
      -0.00056839]
     ...
     [-0.02748586 -0.02347832 -0.01887213 ... -0.01297469 -0.00940237
      -0.006687  ]
     [-0.02326871 -0.01927384 -0.01471299 ... -0.0147623  -0.01153107
      -0.00902478]
     [-0.01957888 -0.01565562 -0.01120575 ... -0.01654976 -0.01359854
      -0.0112607 ]]
    ----------------------------------------
    ---- fp
    ----------------------------------------
    [[ 2.3523889e-05 -2.7494747e-05 -4.6142261e-05 ... -2.3744381e-03
      -2.4765318e-03 -2.5420913e-03]
     [ 2.8253578e-05 -3.1490850e-05 -5.5665809e-05 ... -2.5630798e-03
      -2.6640687e-03 -2.7256690e-03]
     [ 4.6333553e-05 -2.1516280e-05 -5.0185608e-05 ... -2.7228037e-03
      -2.8249177e-03 -2.8843500e-03]
     ...
     [-2.1641932e-03 -2.2813964e-03 -2.3770637e-03 ... -3.9592560e-04
      -5.6503766e-04 -6.7382312e-04]
     [-2.0946811e-03 -2.1986777e-03 -2.2811126e-03 ... -3.3763298e-04
      -4.9688172e-04 -6.0273433e-04]
     [-1.9825757e-03 -2.0702051e-03 -2.1361131e-03 ... -2.8446739e-04
      -4.3382143e-04 -5.3599157e-04]]
    ----------------------------------------
    ---- fr
    ----------------------------------------
    [[0.58427083 0.6082849  0.63328177 ... 0.6348349  0.6097044  0.5855306 ]
     [0.6083254  0.6327109  0.66183424 ... 0.663443   0.6341739  0.6096149 ]
     [0.63334346 0.66184974 0.6909387  ... 0.6926467  0.6633966  0.63469154]
     ...
     [0.6335817  0.6622526  0.6914552  ... 0.6897473  0.66070575 0.6322336 ]
     [0.60857403 0.6331353  0.6623904  ... 0.6607817  0.63167226 0.6072846 ]
     [0.58453256 0.6087315  0.6338822  ... 0.63232917 0.6073121  0.5832728 ]]
    ----------------------------------------
    ---- ft
    ----------------------------------------
    [[ 0.0012785   0.00119742  0.0011111  ...  0.00318776  0.00310654
       0.00301686]
     [ 0.00131722  0.00122571  0.00112941 ...  0.00322231  0.00313888
       0.0030473 ]
     [ 0.0013581   0.00125646  0.00115072 ...  0.00324172  0.00315533
       0.0030613 ]
     ...
     [-0.00032756 -0.00041616 -0.00050753 ...  0.00158347  0.00148271
       0.00137564]
     [-0.00043507 -0.00052673 -0.00062107 ...  0.00147183  0.00138643
       0.00129502]
     [-0.00051574 -0.00060837 -0.00070339 ...  0.00137327  0.00130075
       0.00122262]]
    ----------------------------------------
    ---- p
    ----------------------------------------
    [[-0.9201083  -0.94142485 -0.96298295 ... -0.9640897  -0.9424115
      -0.9209808 ]
     [-0.9414251  -0.9642257  -0.987366   ... -0.988466   -0.9651967
      -0.9422744 ]
     [-0.9629851  -0.98736846 -1.0122092  ... -1.013295   -0.98831606
      -0.9638034 ]
     ...
     [-0.9620315  -0.9864852  -1.0114089  ... -1.0103232  -0.9855376
      -0.96121323]
     [-0.94052106 -0.96339077 -0.9866123  ... -0.9855123  -0.96241975
      -0.9396718 ]
     [-0.9192482  -0.94063103 -0.9622668  ... -0.96116006 -0.9396444
      -0.9183758 ]]
    ----------------------------------------
    ---- p0
    ----------------------------------------
    [[-0.91991323 -0.9412575  -0.96284693 ... -0.96284693 -0.9412575
      -0.91991323]
     [-0.9412575  -0.9640891  -0.9872643  ... -0.9872643  -0.9640891
      -0.9412575 ]
     [-0.96284693 -0.9872643  -1.012143   ... -1.012143   -0.9872643
      -0.96284693]
     ...
     [-0.96284693 -0.9872643  -1.012143   ... -1.012143   -0.9872643
      -0.96284693]
     [-0.9412575  -0.9640891  -0.9872643  ... -0.9872643  -0.9640891
      -0.9412575 ]
     [-0.91991323 -0.9412575  -0.96284693 ... -0.96284693 -0.9412575
      -0.91991323]]
    ----------------------------------------
    ---- p1
    ----------------------------------------
    [[-1.9506646e-04 -1.6740267e-04 -1.3601784e-04 ... -1.2427544e-03
      -1.1540418e-03 -1.0675343e-03]
     [-1.6762824e-04 -1.3661387e-04 -1.0173081e-04 ... -1.2017373e-03
      -1.1076175e-03 -1.0169116e-03]
     [-1.3819906e-04 -1.0418223e-04 -6.6171742e-05 ... -1.1519545e-03
      -1.0517898e-03 -9.5646293e-04]
     ...
     [ 8.1542262e-04  7.7908312e-04  7.3413475e-04 ...  1.8199176e-03
       1.7266908e-03  1.6336865e-03]
     [ 7.3637860e-04  6.9830474e-04  6.5194303e-04 ...  1.7519495e-03
       1.6693083e-03  1.5856619e-03]
     [ 6.6501868e-04  6.2645477e-04  5.8010087e-04 ...  1.6868374e-03
       1.6130940e-03  1.5374866e-03]]


These could be made into images and so forth. Weâ€™ll do this in another
example notebook.


